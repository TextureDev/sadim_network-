<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
        <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo.png') }}">



<style>/* * Sadeem Network - Users Management Dashboard Specific Styles
 * Focuses on activity monitoring, status differentiation, and grid layouts.
 */

body {
    background-color: var(--color-bg);
    padding: 2rem;
}

.title {
    color: var(--color-primary);
    text-align: center;
    font-size: 2.2rem;
    font-weight: 800;
    margin-block-end: 1rem;
}

/* Dashboard Navigation Link */
a[href*="dashboard_home"] {
    display: block;
    text-align: center;
    color: var(--color-accent);
    text-decoration: none;
    font-weight: 600;
    margin-block-end: 3rem;
    transition: var(--transition);
}

a[href*="dashboard_home"]:hover {
    color: var(--color-primary);
    text-decoration: underline;
}

/* Statistics Grid */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-block-end: 4rem;
}

.stats-card {
    background: white;
    padding: 2rem;
    border-radius: var(--radius);
    text-align: center;
    box-shadow: var(--shadow);
    border-bottom: 4px solid var(--color-light);
    transition: var(--transition);
}

.stats-card:hover {
    transform: translateY(-5px);
    border-color: var(--color-accent);
}

.stats-label {
    color: var(--color-secondary);
    font-size: 0.95rem;
    margin-block-end: 0.5rem;
}

.stats-number {
    color: var(--color-primary);
    font-size: 2.2rem;
    font-weight: 900;
}

/* Tables Styling */
.table-title {
    color: var(--color-deep);
    border-right: 4px solid var(--color-accent);
    padding-right: 1rem;
    margin-block: 2rem 1rem;
    font-size: 1.4rem;
}

.user-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    margin-block-end: 3rem;
}

.user-table thead {
    background-color: var(--color-primary);
    color: white;
}

.user-table th, 
.user-table td {
    padding: 1.2rem;
    text-align: right;
    font-size: 0.9rem;
}

.user-table tbody tr {
    border-bottom: 1px solid var(--color-light);
}

/* Row Status Differentiation */
.online-row {
    background-color: rgba(37, 211, 102, 0.03); /* Soft green glow */
}

.online-row td:first-child {
    font-weight: 700;
    color: #1a7f37;
    position: relative;
}

.online-row td:first-child::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    background-color: #25D366;
    border-radius: 50%;
    margin-left: 8px;
}

.offline-row {
    opacity: 0.85;
}

/* Specific Column Handling */
.user-table td:nth-child(3) { /* IP Column */
    font-family: monospace;
    color: var(--color-secondary);
}

.user-table td:nth-child(4) { /* User Agent */
    max-width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 0.8rem;
    color: #999;
}

/* Responsive Table */
@media (max-width: 1024px) {
    .user-table {
        display: block;
        overflow-x: auto;
    }
}

@media (max-width: 600px) {
    .stats-container {
        grid-template-columns: 1fr;
    }
    
    .title {
        font-size: 1.8rem;
    }
}
</style>
<h2 class="title">لوحة المستخدمين</h2>
    <a href="{{ url_for('admin.dashboard_home') }}">  لوحة الزوار</a>

<!-- إحصائيات -->
<div class="stats-container">
    <div class="stats-card">
        <p class="stats-label">آخر ظهور خلال 24 ساعة</p>
        <p class="stats-number">{{ stats.day }}</p>
    </div>

    <div class="stats-card">
        <p class="stats-label">آخر ظهور خلال أسبوع</p>
        <p class="stats-number">{{ stats.week }}</p>
    </div>

    <div class="stats-card">
        <p class="stats-label">آخر ظهور خلال شهر</p>
        <p class="stats-number">{{ stats.month }}</p>
    </div>
</div>

<!-- المتصلين -->
<h3 class="table-title">المتصلين الآن</h3>
<table class="user-table">
    <thead>
        <tr>
            <th>البريد</th>
            <th>الاسم</th>
            <th>IP</th>
            <th>User Agent</th>
            <th>آخر ظهور</th>
        </tr>
    </thead>
    <tbody>
        {% for u in online_users %}
        <tr class="online-row">
            <td>{{ u[0] }}</td>
            <td>{{ u[1] }}</td>
            <td>{{ u[2] }}</td>
            <td>{{ u[3] }}</td>
            <td>{{ u[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- غير المتصلين -->
<h3 class="table-title">غير المتصلين</h3>
<table class="user-table">
    <thead>
        <tr>
            <th>البريد</th>
            <th>الاسم</th>
            <th>IP</th>
            <th>User Agent</th>
            <th>آخر ظهور</th>
        </tr>
    </thead>
    <tbody>
        {% for u in offline_users %}
        <tr class="offline-row">
            <td>{{ u[0] }}</td>
            <td>{{ u[1] }}</td>
            <td>{{ u[2] }}</td>
            <td>{{ u[3] }}</td>
            <td>{{ u[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
